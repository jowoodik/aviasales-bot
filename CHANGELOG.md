# Changelog - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π

## –í–µ—Ä—Å–∏—è –æ—Ç 10.02.2026 (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è: —Å–º. `RELEASE_NOTES.md`

---

### üöÄ –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### –û–ø–ª–∞—Ç–∞ –∏ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è
- **YooKassa Integration** (02.05-02.06)
  - –ù–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å `YooKassaService.js` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å YooKassa API
  - –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π —á–µ—Ä–µ–∑ API (–º–µ—Ç–æ–¥ `createPayment`)
  - Webhook –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ callback –æ—Ç YooKassa
  - –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –æ–ø–ª–∞—Ç—ã –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ –≤ `PaymentNotificationService.js`
  - –ú–∏–≥—Ä–∞—Ü–∏—è —Å Telegram Payments –Ω–∞ YooKassa API
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –æ–ø–ª–∞—Ç—ã (–°–ë–ü, –∫–∞—Ä—Ç—ã, –ÆMoney)
  - –§–∞–π–ª—ã: `services/YooKassaService.js`, `handlers/subscriptionHandlers.js`

#### –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **–ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ NotificationService** (02.09)
  - –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è: `classifyPriority()` - 3 —É—Ä–æ–≤–Ω—è –≤–º–µ—Å—Ç–æ 5
    - CRITICAL: —Ü–µ–Ω–∞ < budget
    - HIGH: —Ü–µ–Ω–∞ < historicalMin (–Ω–æ >= budget)
    - LOW: –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ
  - –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ `_canSendNotification()`:
    - CRITICAL ‚Üí URGENT: 6—á –∏–ª–∏ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Ü–µ–Ω—ã
    - HIGH ‚Üí DAILY: 12—á
    - LOW ‚Üí DAILY: 24—á
    - NO_RESULTS: 48—á
  - –£—á—ë—Ç —Ç–∞–π–º–∑–æ–Ω—ã –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è –Ω–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (23:00-8:00 –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `toLocaleString()` —Å `timeZone: userSettings.timezone`
  - –ú–µ—Ç–æ–¥ `processNoResults()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - –£–¥–∞–ª–µ–Ω–∞ –¥–∞–π–¥–∂–µ—Å—Ç-—Å–∏—Å—Ç–µ–º–∞ (daily_digest_queue –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
  - –§–∞–π–ª—ã: `services/NotificationService.js`, `scheduler.js`

#### –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–±–æ—Ä–∞ –∞—ç—Ä–æ–ø–æ—Ä—Ç–æ–≤
- **AirportService: –ò—Å—Ç–æ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (02.08)
  - –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã: `getPopularOriginAirports(chatId)`, `getPopularDestinationAirports(chatId)`
  - SQL-–∑–∞–ø—Ä–æ—Å—ã —Å CTE (WITH): —Å–Ω–∞—á–∞–ª–∞ –∞—ç—Ä–æ–ø–æ—Ä—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∑–∞—Ç–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ
  - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: `is_user_airport DESC, route_count DESC`
  - –§–∞–π–ª: `services/AirportService.js:214-356`

#### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π
- **AirportCodeResolver** (02.07-02.08)
  - –ù–æ–≤–∞—è —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è IATA –∫–æ–¥–æ–≤ –≤ –Ω–∞–∑–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–æ–≤
  - Singleton —Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ –ø–∞–º—è—Ç–∏
  - –ú–µ—Ç–æ–¥ `formatRoute(origin, destination)` ‚Üí "–ú–æ—Å–∫–≤–∞ ‚Üí –°—Ç–∞–º–±—É–ª"
  - –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ: `load()`
  - –§–∞–π–ª: `utils/AirportCodeResolver.js`
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: `routeHandlers.js:147, 245`

#### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- **ActivityService tracking** (02.04-02.09)
  - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–ª–∏–∫–æ–≤ –Ω–∞ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏ —á–µ—Ä–µ–∑ `callback_data`
  - –°–æ–±—ã—Ç–∏—è: `view_routes`, `view_route_detail`, `upgrade_attempt`, `delete_route`
  - Callback —Ñ–æ—Ä–º–∞—Ç: `aff:${routeId}:${resultId}:${price}`
  - –û–±—Ä–∞–±–æ—Ç—á–∏–∫: `bot.on('callback_query')` –¥–ª—è –ø—Ä–µ—Ñ–∏–∫—Å–∞ `aff:`
  - –§–∞–π–ª—ã: `services/ActivityService.js`, `handlers/routeHandlers.js:334`

#### UX —É–ª—É—á—à–µ–Ω–∏—è
- **–û–Ω–±–æ—Ä–¥–∏–Ω–≥** (02.08)
  - –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Ç–∞–π–º–∑–æ–Ω—ã: –∫–Ω–æ–ø–∫–∞ "‚ûï –°–æ–∑–¥–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç" –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ –º–µ–Ω—é
  - –§–∞–π–ª: `index.js:157`
- **–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤** (02.08)
  - –ù–æ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ `is_archived` –≤ `unified_routes`
  - –ú–µ—Ç–æ–¥ `UnifiedRoute.setAsArchived()` –≤–º–µ—Å—Ç–æ `delete()`
  - –§–∏–ª—å—Ç—Ä `findNonArchivedByChatId()` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  - –ú–∏–≥—Ä–∞—Ü–∏—è: `config/database.js:509`

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ settingsHandlers** (02.05-02.09)
  - –£–¥–∞–ª–µ–Ω—ã "–¢–∏—Ö–∏–µ —á–∞—Å—ã" (quiet_hours) - –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –ø—Ä–æ—Å—Ç–æ–π "–ù–æ—á–Ω–æ–π —Ä–µ–∂–∏–º" (night_mode)
  - –£–ø—Ä–æ—â—ë–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: 3 –ø—É–Ω–∫—Ç–∞ –≤–º–µ—Å—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–æ–¥–º–µ–Ω—é
  - –ü–æ–ª–µ `night_mode` –≤ `user_settings` (boolean)
  - –ü–æ–ª–µ `notifications_enabled` –≤–º–µ—Å—Ç–æ `notify_on_check`
  - –§–∞–π–ª: `handlers/settingsHandlers.js`

#### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
- **–£–ª—É—á—à–µ–Ω–Ω—ã–π –≤—ã–≤–æ–¥ —Ç–æ–ø-3 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** (02.06-02.08)
  - –ö–∞–∂–¥–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ - –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ –¥–ª–∏–Ω–Ω–æ–≥–æ)
  - –ó–∞–≥–æ–ª–æ–≤–æ–∫ "üìä –õ–£–ß–®–ò–ï 3 –ü–†–ï–î–õ–û–ñ–ï–ù–ò–Ø" –æ—Ç–¥–µ–ª—å–Ω–æ
  - –ú–µ–¥–∞–ª–∏: ü•á ü•à ü•â
  - Callback-–∫–Ω–æ–ø–∫–∏ –≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö URL (–¥–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞)
  - –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ü–µ–Ω—ã: "üé´ –ö–£–ü–ò–¢–¨ –°–ï–ô–ß–ê–°" vs "üé´ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±–∏–ª–µ—Ç"
  - –§–∞–π–ª: `handlers/routeHandlers.js:290-350`

---

### ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- **Batch-processing –≤ scheduler.js** (02.09)
  - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤: `Promise.all()` —Å batch
  - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –º–∞–∫—Å–∏–º—É–º 10 –º–∞—Ä—à—Ä—É—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
  - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ –Ω–∞ —á–∞–Ω–∫–∏ –≤ `checkUserRoutes()`
  - –§–∞–π–ª: `scheduler.js`

- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** (02.08)
  - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É –ø–æ–¥–ø–∏—Å–∫–∏: Plus ‚Üí Free
  - SQL: `ORDER BY subscription_priority DESC, last_checked ASC`
  - Plus-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —á–∞—â–µ –≤ –ø–µ—Ä–∏–æ–¥—ã –Ω–∞–≥—Ä—É–∑–∫–∏
  - –§–∞–π–ª: `scheduler.js`

---

### üõ† –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

#### –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **–ú–∞—Å—Å–æ–≤—ã–µ —Ä–∞—Å—Å—ã–ª–∫–∏ —á–µ—Ä–µ–∑ BroadcastService** (02.03-02.06)
  - API: `POST /admin/api/broadcast`
  - HTML-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
  - –°—Ç–∞—Ç—É—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ –∫–∞–∂–¥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
  - –§–∞–π–ª—ã: `services/BroadcastService.js`, `web/server.js`, `web/public/js/pages/broadcast.js`

- **–ì—Ä–∞—Ñ–∏–∫–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫** (02.09-02.10)
  - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤
  - –ì—Ä–∞—Ñ–∏–∫ –≤ —Ä–∞–∑–¥–µ–ª–µ Dashboard
  - –¢–∞–π–º–∑–æ–Ω–∞ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  - –§–∞–π–ª: `services/ChartGenerator.js`

- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** (02.04-02.09)
  - –°–æ–±—ã—Ç–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: –∫–ª–∏–∫–∏, —Å–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤, –∞–ø–≥—Ä–µ–π–¥—ã
  - API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
  - –¢–∞–±–ª–∏—Ü–∞ `activity_log` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π
  - –§–∞–π–ª—ã: `web/server.js`, `web/public/js/pages/analytics.js`

- **–î–µ—Ç–∞–ª–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ –∞–¥–º–∏–Ω–∫–µ** (02.06)
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –≥–æ—Ä–æ–¥–æ–≤ –≤–º–µ—Å—Ç–æ IATA-–∫–æ–¥–æ–≤
  - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∫–∞–∂–¥–æ–º—É –º–∞—Ä—à—Ä—É—Ç—É
  - –§–∞–π–ª: `web/public/js/config.js`

- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫** (02.04)
  - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–µ–Ω—è—Ç—å —Å–æ—Å—Ç–∞–≤ –ø–æ–¥–ø–∏—Å–∫–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É
  - API: `PUT /admin/api/users/:chatId/subscription`
  - –§–∞–π–ª: `web/server.js`

#### –£–ª—É—á—à–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –û–±–Ω–æ–≤–ª—ë–Ω –≥–ª–∞–≤–Ω—ã–π Dashboard —Å –Ω–æ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ (02.04)
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–æ–¥—Å—á—ë—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–¥–ø–∏—Å–æ–∫ (02.04)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Å–∞–π–¥–±–∞—Ä (02.05)
- –£–ª—É—á—à–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏

---

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **–ù–æ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ `is_archived`** –≤ `unified_routes` (02.08)
  - –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
  - –ú–∏–≥—Ä–∞—Ü–∏—è: `config/database.js:509`

- **–ú–∏–≥—Ä–∞—Ü–∏–∏** (02.09)
  - –ö–æ–º–∞–Ω–¥–∞ `npm run migrate` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π
  - –°–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏ `notification_log`: `migrations/cleanup_notification_log.js`
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π (>30 –¥–Ω–µ–π)

#### API
- **Travelpayouts –º–∞—Ä–∫–µ—Ä** (02.04)
  - –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è: –º–∞—Ä–∫–µ—Ä –∏–∑ ENV –≤–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞
  - –î–ª—è –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤: –º–∞—Ä–∫–µ—Ä = 0
  - –§–∞–π–ª: `services/AviasalesPricer.js`

- **Parse mode –¥–ª—è —Ä–∞—Å—Å—ã–ª–æ–∫** (02.04)
  - HTML-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –º–∞—Å—Å–æ–≤—ã—Ö —Ä–∞—Å—Å—ã–ª–∫–∞—Ö
  - –§–∞–π–ª: `services/BroadcastService.js`

#### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** (02.06-02.07)
  - –õ–æ–≥–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
  - –õ–æ–≥–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫
  - –§–æ—Ä–º–∞—Ç: `console.log` —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏ (üîç, ‚è≠Ô∏è, ‚úÖ, ‚ùå)
  - –§–∞–π–ª—ã: `scheduler.js`, `services/NotificationService.js`

#### –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–¥–ø–∏—Å–æ–∫** (02.04)
  - –î–∞–Ω–Ω—ã–µ –æ –º–æ–¥–µ–ª—è—Ö –ø–æ–¥–ø–∏—Å–∫–∏ –∏–∑ –ë–î –≤–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞
  - –†–∞–∑–¥–µ–ª "‚ùì –ü–æ–º–æ—â—å" –ø–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
  - –§–∞–π–ª: `handlers/helpHandlers.js`

- **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è** (02.08)
  - "–¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ —Ü–µ–Ω" –≤–º–µ—Å—Ç–æ "Heatmap"
  - –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Ä—É—Å—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –≤ UI
  - –§–∞–π–ª: `handlers/routeHandlers.js:355`

---

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫

- **–û—Ç—á—ë—Ç—ã –æ –ø—Ä–æ–≤–µ—Ä–∫–∞—Ö** (02.07)
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ—Ç—á—ë—Ç–æ–≤
  - –£–ª—É—á—à–µ–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç –∏ —Ü–µ–Ω
  - –§–∞–π–ª: `handlers/routeHandlers.js`

- **–≠–∫—Å–ø–æ—Ä—Ç—ã –º–æ–¥—É–ª–µ–π** (02.06)
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
  - –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ `require()` –∏ `module.exports`

- **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** (02.06)
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –º–∞—Ä—à—Ä—É—Ç–æ–≤
  - –ü–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
  - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å emoji

- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–∏–∫—Å—ã —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏** (02.06)
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ null-–∑–Ω–∞—á–µ–Ω–∏–π
  - –ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –¥–æ—Å—Ç—É–ø–æ–º
  - Try-catch –±–ª–æ–∫–∏ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–µ–∫—Ü–∏–π

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

- **–ü–µ—Ä–∏–æ–¥**: 03.02.2026 - 10.02.2026 (7 –¥–Ω–µ–π)
- **–ö–æ–º–º–∏—Ç–æ–≤**: 44
- **–ò–∑–º–µ–Ω–µ–Ω–æ —Ñ–∞–π–ª–æ–≤**: ~25 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- **–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è**:
  - 30% - –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è –∏ –æ–ø–ª–∞—Ç–∞
  - 25% - –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  - 20% - UX –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
  - 15% - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –∞–¥–º–∏–Ω–∫–∞
  - 10% - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è

### –î–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:

```bash
# 1. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
git pull origin main

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
npm install

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
npm run migrate

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
pm2 restart aviasales-bot
pm2 restart aviasales-scheduler
pm2 restart aviasales-admin
```

### –ù–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
# YooKassa (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –ø—Ä–∏—ë–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π)
YOOKASSA_SHOP_ID=your_shop_id
YOOKASSA_API_KEY=your_api_key

# Telegram Bot (–¥–ª—è return_url –≤ –ø–ª–∞—Ç–µ–∂–∞—Ö)
BOT_USERNAME=your_bot_username
```

---

## ‚ö†Ô∏è Breaking Changes

### –ù–ï–¢ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã:
- –°—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞—é—Ç —Å –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
- –ü–æ–ª–µ `digest_enabled` —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ (–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- –¢–∞–±–ª–∏—Ü–∞ `daily_digest_queue` –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –ë–î (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ `notification_log` —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º MEDIUM –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è

### –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

–ù–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –∏–º–µ—é—Ç DEFAULT –∑–Ω–∞—á–µ–Ω–∏—è:
- `is_archived` DEFAULT 0
- `night_mode` DEFAULT 1

---

## üìù –°—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–∞—Ç—á-–Ω–æ—É—Ç—ã: `RELEASE_NOTES.md`
- –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π: `docs/report-rework.md`
- –†–µ–∑—é–º–µ –º–∏–≥—Ä–∞—Ü–∏–∏: `MIGRATION_SUMMARY.md`
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏: `DOCUMENTATION_UPDATE.md`
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: `ADMIN_PANEL_UPDATE.md`
- –ü–∞–º—è—Ç—å –ø—Ä–æ–µ–∫—Ç–∞: `.claude/projects/.../memory/MEMORY.md`
