# üîó –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏—Ö –∫–ª–∏–∫–æ–≤ - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–î–∞—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** 2026-02-09
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üìã –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–∫–æ–≤ (`affiliate_click`)
- ‚úÖ –í—Å–µ –∫–Ω–æ–ø–∫–∏ Aviasales —Ç–µ–ø–µ—Ä—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `user_activity_log`
- ‚úÖ –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è: routeId, resultId, price, origin, destination, departureDate, returnDate

### 2. API endpoint –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- ‚úÖ `GET /admin/api/monetization-stats?period=30`
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: totalClicks, CTR, clicksPerUser, topRoutesByClicks, –∫–æ–Ω–≤–µ—Ä—Å–∏—é

### 3. Dashboard –±–ª–æ–∫ "üí∞ –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è"
- ‚úÖ –Ø—Ä–∫–∏–π –∑–µ–ª–µ–Ω—ã–π –±–ª–æ–∫ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∞–¥–º–∏–Ω–∫–∏
- ‚úÖ 4 –∫–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ (tooltips)
- ‚úÖ –¢–æ–ø-5 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø–æ –∫–ª–∏–∫–∞–º
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

---

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π flow:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** –æ –Ω–∏–∑–∫–æ–π —Ü–µ–Ω–µ –±–∏–ª–µ—Ç–∞
2. **–í–∏–¥–∏—Ç –∫–Ω–æ–ø–∫—É** "üé´ –ö–£–ü–ò–¢–¨ –°–ï–ô–ß–ê–°" –∏–ª–∏ "üé´ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±–∏–ª–µ—Ç"
3. **–ö–ª–∏–∫–∞–µ—Ç –Ω–∞ –∫–Ω–æ–ø–∫—É**
4. **–ë–æ—Ç:**
   - üìù –õ–æ–≥–∏—Ä—É–µ—Ç –∫–ª–∏–∫ –≤ `user_activity_log` (—Ç–∞–±–ª–∏—Ü–∞ SQLite)
   - üí¨ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "‚úàÔ∏è –û—Ç–∫—Ä—ã–≤–∞—é Aviasales..."
   - üì® –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫—Ä–∞—Å–∏–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–æ–π:
     ```
     üé´ –í–∞—à–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ –±–∏–ª–µ—Ç –≥–æ—Ç–æ–≤–∞!

     MOW ‚Üí LED
     üí∞ –¶–µ–Ω–∞: 45,000 ‚ÇΩ

     üëâ –û—Ç–∫—Ä—ã—Ç—å –Ω–∞ Aviasales [–∫–ª–∏–∫]
     ```
5. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç** –Ω–∞ —Å—Å—ã–ª–∫—É –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ Aviasales

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –≤ –∞–¥–º–∏–Ω–∫–µ

### –í—Å–µ–≥–æ –∫–ª–∏–∫–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–∫–æ–≤ –ø–æ –∫–Ω–æ–ø–∫–∞–º –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö –∏ –æ—Ç—á–µ—Ç–∞—Ö
- –ö–∞–∂–¥—ã–π –∫–ª–∏–∫ = –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∞—è –∫–æ–º–∏—Å—Å–∏—è

### CTR (Click-Through Rate)
- **–§–æ—Ä–º—É–ª–∞:** (–∫–ª–∏–∫–∏ / —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è) √ó 100%
- **–•–æ—Ä–æ—à–∏–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å:** 10-20%
- **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:** —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –∫–ª–∏–∫–∏

### –ö–ª–∏–∫–æ–≤/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- –°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–∫–æ–≤ –Ω–∞ –æ–¥–Ω–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ö–æ–Ω–≤–µ—Ä—Å–∏—è (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ ‚Üí –∫–ª–∏–∫)
- –ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–ª–∏–∫–Ω—É–≤—à–∏—Ö –ø–æ—Å–ª–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **–ö–ª—é—á–µ–≤–∞—è –º–µ—Ç—Ä–∏–∫–∞ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏**

### –¢–æ–ø-5 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- –°–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –ø–æ –∫–ª–∏–∫–∞–º
- –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –ø–æ –∫–∞–∂–¥–æ–º—É –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é
- –ü–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–Ω–æ—Å—è—Ç –±–æ–ª—å—à–µ –¥–æ—Ö–æ–¥–∞

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `user_activity_log`
```sql
event_type = 'affiliate_click'
event_data = {
  "routeId": 123,
  "resultId": 456,
  "price": 45000,
  "origin": "MOW",
  "destination": "LED",
  "departureDate": "2026-03-15",
  "returnDate": "2026-03-22"
}
chat_id = 123456789
created_at = '2026-02-09 12:34:56'
```

### API Response `/admin/api/monetization-stats`
```json
{
  "totalClicks": 234,
  "clicksPerUser": 2.5,
  "ctr": 15.3,
  "topRoutesByClicks": [
    {
      "origin": "MOW",
      "destination": "LED",
      "clicks": 45,
      "avgPrice": 12500
    }
  ],
  "clicksByDay": [
    {"date": "2026-02-01", "clicks": 12},
    {"date": "2026-02-02", "clicks": 18}
  ],
  "totalNotifications": 1530,
  "period": 30
}
```

---

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Backend:
1. **`services/NotificationService.js`**
   - –ò–∑–º–µ–Ω–µ–Ω—ã –∫–Ω–æ–ø–∫–∏: `url` ‚Üí `callback_data`
   - –§–æ—Ä–º–∞—Ç: `aff:routeId:resultId:price`
   - –ú–µ—Ç–æ–¥—ã: `formatSingleRouteBlock()`, `_sendInstantAlert()`, `sendConsolidatedReport()`

2. **`handlers/routeHandlers.js`**
   - –ö–Ω–æ–ø–∫–∏ –≤ –¥–µ—Ç–∞–ª—è—Ö –º–∞—Ä—à—Ä—É—Ç–∞: `url` ‚Üí `callback_data`
   - Line ~335: linkKeyboard —Å callback_data

3. **`index.js`**
   - –ù–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫: `else if (data.startsWith('aff:'))`
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–∫–∞ —á–µ—Ä–µ–∑ ActivityService
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ —Å—Å—ã–ª–∫–æ–π

4. **`web/server.js`**
   - –ù–æ–≤—ã–π endpoint: `GET /admin/api/monetization-stats`
   - SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
   - Lines ~1383-1488

### Frontend:
5. **`web/public/js/pages/dashboard.js`**
   - –ú–µ—Ç–æ–¥ `renderMonetization(monetizationStats)`
   - –û–±–Ω–æ–≤–ª–µ–Ω `render()` - –¥–æ–±–∞–≤–ª–µ–Ω –∑–∞–ø—Ä–æ—Å –∫ `/monetization-stats`
   - –û–±–Ω–æ–≤–ª–µ–Ω `renderContent()` - –¥–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä monetizationStats
   - Lines ~15-33, ~35, ~620-695

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
```bash
# –û—Ç–∫—Ä—ã—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
sqlite3 data/bot.db

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∫–ª–∏–∫–∏
SELECT
  chat_id,
  created_at,
  JSON_EXTRACT(event_data, '$.origin') as origin,
  JSON_EXTRACT(event_data, '$.destination') as dest,
  JSON_EXTRACT(event_data, '$.price') as price
FROM user_activity_log
WHERE event_type = 'affiliate_click'
ORDER BY created_at DESC
LIMIT 10;
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±–æ—Ç–µ
1. –°–æ–∑–¥–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç —Å –Ω–∏–∑–∫–∏–º –±—é–¥–∂–µ—Ç–æ–º
2. –î–æ–∂–¥–∞—Ç—å—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/check`
3. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É "üé´ –ö–£–ü–ò–¢–¨ –°–ï–ô–ß–ê–°"
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
   - ‚úÖ –ü–æ—è–≤–∏–ª–æ—Å—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "‚úàÔ∏è –û—Ç–∫—Ä—ã–≤–∞—é Aviasales..."
   - ‚úÖ –ü—Ä–∏—à–ª–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–æ–π
   - ‚úÖ –°—Å—ã–ª–∫–∞ –≤–µ–¥–µ—Ç –Ω–∞ Aviasales

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–º–∏–Ω–∫–∏
1. –û—Ç–∫—Ä—ã—Ç—å: http://localhost:3000/admin
2. –ü–∞—Ä–æ–ª—å: `tg-bot-2026`
3. –ù–∞–π—Ç–∏ –±–ª–æ–∫ "üí∞ –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è"
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
   - ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –º–µ—Ç—Ä–∏–∫–∏
   - ‚úÖ –ï—Å—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏ (‚ÑπÔ∏è) –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
   - ‚úÖ –¢–æ–ø-5 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π (–µ—Å–ª–∏ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ)

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ API
```bash
# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ 30 –¥–Ω–µ–π
curl -X GET "http://localhost:3000/admin/api/monetization-stats?period=30" \
  -H "Cookie: connect.sid=YOUR_SESSION_ID"

# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ 7 –¥–Ω–µ–π
curl -X GET "http://localhost:3000/admin/api/monetization-stats?period=7" \
  -H "Cookie: connect.sid=YOUR_SESSION_ID"
```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–π marker
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `services/AviasalesAPI.js` —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π marker:
```javascript
constructor(token = process.env.TRAVELPAYOUTS_TOKEN, marker = '696196') {
  this.marker = marker;
}
```

### UTM –º–µ—Ç–∫–∏
–°—Å—ã–ª–∫–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç UTM –º–µ—Ç–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:
- `utm_source=telegram_bot`
- `utm_medium=bot`

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ß—Ç–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è:
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–∫–æ–≤ –ø–æ –¥–Ω—è–º
- ‚úÖ CTR –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –¢–æ–ø –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ –∫–ª–∏–∫–∞–º
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Å–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –ß—Ç–æ –ù–ï –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è (–Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å):
- ‚ùå –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–∫—É–ø–∫–∏ –±–∏–ª–µ—Ç–æ–≤ (–Ω—É–∂–µ–Ω postback –æ—Ç TravelPayouts)
- ‚ùå –ö–æ–º–∏—Å—Å–∏—è –≤ —Ä—É–±–ª—è—Ö (–Ω—É–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å TravelPayouts API)
- ‚ùå –í—Ä–µ–º—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Aviasales
- ‚ùå Abandoned carts (–±—Ä–æ—à–µ–Ω–Ω—ã–µ –∫–æ—Ä–∑–∏–Ω—ã)

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –§–∞–∑–∞ 2 (—Å–ª–µ–¥—É—é—â–∞—è –Ω–µ–¥–µ–ª—è):
1. –î–æ–±–∞–≤–∏—Ç—å `pause_route`, `resume_route`, `archive_route`
2. –†–∞—Å—à–∏—Ä–∏—Ç—å –≤–æ—Ä–æ–Ω–∫—É –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —à–∞–≥–∏)
3. –ë–ª–æ–∫ "–í–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å" (Retention D1/D7/D30, Stickiness)
4. –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫

### –§–∞–∑–∞ 3 (—Å–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü):
5. –ë–ª–æ–∫ "–ö–∞—á–µ—Å—Ç–≤–æ —Å–µ—Ä–≤–∏—Å–∞"
6. –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–≥—Ä–∞—Ñ–∏–∫–∏)
7. –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤

### –£–ª—É—á—à–µ–Ω–∏—è –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏:
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å TravelPayouts API –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–¥–∞–∂
- A/B —Ç–µ—Å—Ç—ã —Ç–µ–∫—Å—Ç–æ–≤ –∫–Ω–æ–ø–æ–∫
- –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: URL_INVALID –ø—Ä–∏ answerCallbackQuery
**–†–µ—à–µ–Ω–∏–µ:** –í–º–µ—Å—Ç–æ –æ—Ç–∫—Ä—ã—Ç–∏—è URL —á–µ—Ä–µ–∑ callback, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–æ–π

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–æ–ø –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π
**–ü—Ä–∏—á–∏–Ω–∞:** –ú–∞–ª–æ –∫–ª–∏–∫–æ–≤ –∏–ª–∏ event_data = NULL
**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–¥–æ–∂–¥–∞—Ç—å –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `pm2 logs flyalert-bot --lines 50`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ë–î: `sqlite3 data/bot.db "SELECT COUNT(*) FROM user_activity_log WHERE event_type = 'affiliate_click'"`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –≤ –∞–¥–º–∏–Ω–∫–µ

---

## üìù Changelog

### 2026-02-09 - v1.0.0
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–∫–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω API endpoint `/monetization-stats`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω dashboard –±–ª–æ–∫ "–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è"
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥—Å–∫–∞–∑–∫–∏ (tooltips) –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ URL_INVALID

---

**–ê–≤—Ç–æ—Ä:** Claude (Anthropic)
**–î–∞—Ç–∞:** 2026-02-09
**–í–µ—Ä—Å–∏—è:** 1.0.0
